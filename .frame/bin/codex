#!/bin/bash
# Frame wrapper script for Codex CLI
# This wrapper ensures the AI tool reads project instructions on startup
#
# Why this exists:
# - Claude Code automatically reads CLAUDE.md for project context
# - Other AI tools (like Codex CLI) don't have this convention
# - This wrapper sends an initial prompt to read AGENTS.md
#
# Generated by Frame - do not edit manually

# Check if the tool is installed
if ! command -v codex &> /dev/null; then
    echo "Error: codex is not installed or not in PATH"
    exit 1
fi

# Run the tool with initial context prompt
FRAME_BOOTSTRAP_PROMPT='Please read AGENTS.md first and follow the project instructions defined there. This is a Frame-managed project. If AGENTS.md defines skills or agent workflows, use them when relevant.'
"codex" "$FRAME_BOOTSTRAP_PROMPT" "$@"
